<!DOCTYPE html>
<html>
  <head>
    <title>Check Variables Arduino</title>
    
  </head>
  <body onload='init()'>

<div>ESTADO</div>
<p>
<div id="E"></div>
<p>

<div>DATOS</div>
<p>
<div id="X"></div>
<p>
<div id="Y"></div>


	<script src="math.js" type="text/javascript"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
         <script src="//cdn.jsdelivr.net/p5.js/0.3.8/p5.min.js"></script>
 <script type="text/javascript" src="//cdn.jsdelivr.net/p5.js/0.3.8/addons/p5.dom.js"></script>
   <script src="compass.js"></script>

        <link rel="stylesheet" href="progress/css/lib/control/progressbar.css" />
        <script type="text/javascript" src="progress/lib/control/progressbar.min.js"></script>


    <script>

	

	var socket = io();
	//recupera informacion del servicio node checkvariable.js
      socket.on('valoresarduino', function(msg){
      
		showData(msg);

		
      });
   

     socket.on('estadosconexion', function(msg){
      
		showState(msg);

		
      });


function init(){

document.getElementById("E").innerHTML = "Desconectado";

}


function showState(result) {

//alert(result);
sresult = result;

analog = sresult.substr(0, 2);
largo = sresult.length;

switch (analog) {
case "C":
document.getElementById("E").innerHTML = "Conectado";
break;
case "D":
document.getElementById("E").innerHTML = "Desconectado";
break;

}

}

function showData(result) {

sresult = result;

analog = sresult.substr(0, 2);
largo = sresult.length;

switch (analog) {
case "X:":
document.getElementById("X").innerHTML = result;
break;
case "Y:":
document.getElementById("Y").innerHTML = result;
break;

}
}



</script>


  </body>
</html>
