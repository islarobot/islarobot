 	<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Main</title>
        <script type="text/javascript" src="/socket.io/socket.io.js"></script> 
        <script type="text/javascript" src="assets/classes.js"></script>
        <script type="text/javascript" src="assets/functions_home.js"></script>
        <script type="text/javascript" src="assets/functions_main.js"></script>
        <!--The above library(/socket.io/socket.io.js) will be generated by socket.io module of server -->
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script> 
    </head>
    <body onload="function_load()">
    
    		<table border="1" width="100%" height="100%">
    		<tr>
    		<td width="20%">
    		<table border="1">
    		
    		<tr>
			<td>
			State:
			</td>
			
			<td>
			<div id="content_state"></div>
			</td>
			    		
    		</tr>
    		
    		<tr>
			<td>
			Active Project:		
			</td>   
			
			<td>
			<div id="active_project"></div>		
			</td> 		
    		</tr>
    		<tr>
			<td colspan="2">

			<a href="javascript:update_index();">Update Index</a>

			</td> 		
    		</tr>
    		<tr>
			<td colspan="2">
			<div id="project_lists">
						
			</div>		
			</td> 		
    		</tr>
    		
    		</table>
			</td>
			
			
			<td valign="top">
		<div class="tab" id="buttons">
		
		
  		
  		
  		</div>
  		
		
		<div id="code" class="tabcontent">
  		<h3>Code</h3>
  		<iframe name="iFrameCode" style="height: 100%; border: none" width="100%" height="900"></iframe>
		</div>	
		
		<div id="docu" class="tabcontent">
  		<h3>Documentation</h3>
  		<iframe name="iFrameDocu" style="height: 100%; border: none" width="100%" height="900"></iframe>
		</div>	
		
		<div id="addDocu" class="tabcontent">
  		<h3>Additional Documentation</h3>
  		<iframe name="iFrameaddDocu" style="height: 100%; border: none" width="100%" height="900"></iframe>
		</div>	
		
		<div id="basicsensors" class="tabcontent">
  		<h3>Basic Sensors</h3>
  		<iframe id="Iframebasicsensors" style="height: 100%; border: none" width="100%"></iframe>
		</div>

		<div id="basicactuators" class="tabcontent">
  		<h3>Basic Actuators</h3>
  		<iframe src="Iframebasicactuators.html" style="height: 100%; border: none" width="100%"></iframe>
		</div>

		
				<div id="projectsonar" class="tabcontent">
  		<h3>Ultrasound Sonar <a href="projectsonar.html">new tab</a></h3>
  		<iframe src="projectsonar.html" style="height: 100%; border: none" width="100%"></iframe>
		</div>
		
			
			</td>			
			</tr>
    		</table>
       
       </body>
           <style>
           
           body {
    height: 90vh;
}
    
	/* Style the tab */
div.tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
}

/* Style the buttons inside the tab */
div.tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
}

/* Change background color of buttons on hover */
div.tab button:hover {
    background-color: #ddd;
}

/* Create an active/current tablink class */
div.tab button.active {
    background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
    height: 90%
    
}    
    </style>

 
        <script type="text/javascript">
            var socket = io.connect("/"); 
            /*Initializing the connection with the server via websockets */
            
            /*solicito proyecto activo*/
            socket.emit('request_state','');

            
				//recibo mensajes del servidor!!!            
            socket.on("message",function(message){  
               
                console.log("Message from the server arrived")
                message1 = JSON.parse(message);
                //console.log(message1); /*converting the data into JS object */
                //$('#content').append('<div >'+message+'</div>'); /*appending the data on the page using Jquery */
                document.getElementById('content1').innerHTML = message;
                

            });
            
            socket.emit('request_projects','');
            /*Initializing the connection with the server via websockets */
  
            //recibo lista de proyectos
				socket.on("projects",function(message){  
               
					
                message = JSON.parse(message)
                
          		
					print_list_of_projects(message);                
                
            });   
            
            //recibo lista de usb
				socket.on("usb_list",function(message){  
               
					//console.log(message);					
					
                //message = JSON.parse(message)
                
					
                
                //no hay puertos
                if (message.length_portlist == '0') {

						print_no_ports_message();                	
                	
                }
						//un puerto                
                else if (message.length_portlist == '1') {
                	

						print_one_port_connect(message.value);                	
                	
                }
						//n puertos                
                else{
                

							print_list_of_ports(message.value_ports);                
                }
                
                //console.log(message); /*converting the data into JS object */
                    
					 
            });            
            
           	socket.on("state",function(message){ 
           	
				message = JSON.parse(message)
           	
					document.getElementById('content_state').innerHTML = message;
           	

           	});
            
            socket.on("active_project_info",function(message){ 
				

												
				
				reset_buttons()
            project_info = JSON.parse(message)
            
            project_name = project_info.name
            
            
            
            document.getElementById('active_project').innerHTML = project_name;
            
            project_info = project_info.info
            
            //console.log(project_info.interaction_pages)

            add_tabs(project_info.interaction_pages,project_info.tutorial_type)
				
				});
				
				socket.on("index_updated",function(message){ 
            
            $("#project_lists").html("");
				socket.emit('request_projects','');
				
				});
 

        </script>
    </body>
</html>
